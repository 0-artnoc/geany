Summary:       A fast and lightweight IDE using GTK2
Name:          geany
Version:       @VERSION@
Release:       1
License:       GPL2
Group:         Development/Tools
Vendor:        Enrico Tröger <enrico.troeger@uvena.de>
Packager:      Enrico Tröger <enrico.troeger@uvena.de>
Source:        http://files.uvena.de/geany/%{name}-%{version}.tar.bz2
URL:           http://www.geany.org/
BuildRoot:     %{_tmppath}/%{name}-%{version}-%{release}-root
Requires:      glib2, gtk2, pango
BuildRequires: glib2-devel, gtk2-devel, pango-devel

%description
Geany is a small and fast editor with basic features of an integrated development environment.

Some features:
- syntax highlighting
- code completion
- code folding
- call tips
- folding
- many supported filetypes like C, Java, PHP, HTML, Python, Perl, Pascal
- symbol lists

%prep
%setup -q

%build
%configure
%__make

%install
%__rm -Rf $RPM_BUILD_ROOT
%makeinstall
# If you experience build problems like
# "Found '/home/user/rpmbuild/BUILDROOT/geany-0.16svn-3328.i386' in installed files; aborting"
# try uncommenting the following line to workaround the problem (and add sed to BuildRequires)
#sed -i "s@libdir='.*'@libdir='%{_libdir}/%{name}'@g" $RPM_BUILD_ROOT%{_libdir}/%{name}/*.la

%__rm $RPM_BUILD_ROOT%{_datadir}/icons/hicolor/icon-theme.cache

%clean
%__rm -Rf $RPM_BUILD_ROOT

%files
%defattr(-, root, root)
%doc AUTHORS COPYING ChangeLog HACKING INSTALL NEWS README TODO THANKS
%{_bindir}/%{name}
%{_libdir}/%{name}/
%{_datadir}/%{name}
%{_datadir}/applications/%{name}.desktop
%{_datadir}/locale/*/LC_MESSAGES/%{name}.mo
%{_datadir}/pixmaps/%{name}.png
%{_datadir}/doc/%{name}/
%{_mandir}/man1/%{name}.1.gz
%{_datadir}/icons/hicolor/16x16/apps/classviewer-*.png
%{_includedir}/%{name}/
%{_libdir}/pkgconfig/
